# this works in gnu make
SYSNAME:=${shell uname}
OBJTYPE:=${shell uname -m | sed 's;i.86;386;; s;/.*;;; s; ;;g'}

# this works in bsd make
SYSNAME!=uname
OBJTYPE!=uname -m | sed 's;i.86;386;; s;/.*;;; s; ;;g'

# the gnu rules will mess up bsd but not vice versa,
# hence the gnu rules come first.

X11=/usr/X11R6
LDFLAGS=
CFLAGS=

BIN=$(PLAN9)/bin

include $(PLAN9)/src/Make.$(SYSNAME)-$(OBJTYPE)
LDFLAGS+=-L$(PLAN9)/lib

CLEANFILES=*.$O
NUKEFILES=

